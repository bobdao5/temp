{"version":3,"sources":["../src/index.tsx","../src/components/ErrorBoundary.tsx","../src/GifPickerReact.tsx","../src/components/body/Body.tsx","../src/context/PickerContext.ts","../src/context/TenorContext.ts","#style-inject:#style-inject","../src/components/body/Body.css","../src/components/body/CategoryList.tsx","../src/components/placeholders/CategoryPlaceholder.tsx","../src/context/SettingsContext.ts","../src/components/placeholders/CategoryPlaceholder.css","../src/components/placeholders/Placeholder.tsx","../src/components/placeholders/Placeholder.css","../src/components/body/CategoryList.css","../src/components/body/FeaturedCategory.tsx","../src/components/body/Category.tsx","../src/components/body/Category.css","../src/components/body/TrendingCategory.tsx","../src/components/body/TrendingCategory.css","../src/components/body/SearchResult.tsx","../src/components/body/GifList.tsx","../src/components/body/GifList.css","../src/components/body/GifListPlaceholder.tsx","../src/components/placeholders/ResultPlaceholder.tsx","../src/components/placeholders/ResultPlaceholder.css","../src/components/body/ResultImage.tsx","../src/components/body/ResultImage.css","../src/components/body/TrendingResult.tsx","../src/components/header/Header.tsx","../src/components/header/Header.css","../src/components/header/Search.tsx","../src/components/header/ClearButton.tsx","../src/components/Button.tsx","../src/components/header/ClearButton.css","../src/components/header/Search.css","../src/components/header/Title.tsx","../src/components/header/Title.css","../src/components/PickerMain.tsx","../src/types/exposedTypes.ts","../src/GifPickerReact.css","../src/hooks/usePickerContext.ts","../src/hooks/useSettings.ts","../src/managers/TenorManager.ts"],"names":["React","ErrorBoundary","props","error","errorInfo","useMemo","useContext","useEffect","useRef","useState","PickerContext","PickerContext_default","TenorContext","TenorContext_default","styleInject","css","insertAt","head","style","SettingsContext","SettingsContext_default","Placeholder","Placeholder_default","CategoryPlaceholder","settings","CategoryPlaceholder_default","Category","image","text","onClick","Category_default","FeaturedCategory","name","pickerContext","setPickerContext","contextCopy","FeaturedCategory_default","TrendingCategory","TrendingCategory_default","CategoryList","categories","trending","columnsCount","categoriesSliced","cat","i","_","CategoryList_default","ResultPlaceholder","height","showDelay","show","setShow","showElement","timeout","ResultPlaceholder_default","PLACEHOLDER_HEIGHTS","GifListPlaceholder","j","GifListPlaceholder_default","ResultImage","searchTerm","tenor","func","ResultImage_default","GifList","isLoading","result","columns","generateColumns","isEmpty","col","img","columnsHeight","aspectRatio","shortestColumnIndex","GifList_default","SearchResult","searchResult","setSearchResult","setLoading","search","debounce","SearchResult_default","TrendingResult","trendingResult","TrendingResult_default","MAX_COLUMN_WIDTH","Body","width","setCategories","setTrending","setColumnsCount","ref","categoryList","trendingList","Body_default","Button","Button_default","ClearButton","ClearButton_default","Search","onChange","event","onClear","Search_default","Title","children","Title_default","Header","Header_default","ContentFilter","Theme","PickerMain","PickerMain_default","usePickerContext","DEFAULT_SETTINGS","usePickerContext_default","useSettings","praseDimension","getTheme","dimension","theme","isSystemDarkTheme","useSettings_default","MEDIA_FILTER","BASE_URL","TenorManager","apiKey","clientKey","country","locale","contentFilter","endpoint","params","urlParams","url","res","preview","gif","data","tag","term","limit","images","TenorManager_default","GifPickerReact","tenorManager","GifPickerReact_default","GifPicker","src_default"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ErrorBoundary from './components/ErrorBoundary';\r\nimport GifPickerReact, { GifPickerReactProps } from './GifPickerReact';\r\n\r\nexport {\r\n\tContentFilter, TenorImage, Theme\r\n} from './types/exposedTypes';\r\n\r\nexport interface GifPickerProps extends GifPickerReactProps { }\r\n\r\nfunction GifPicker(props: GifPickerProps): JSX.Element {\r\n\treturn (\r\n\t\t<ErrorBoundary>\r\n\t\t\t<GifPickerReact {...props} />\r\n\t\t</ErrorBoundary>\r\n\t);\r\n}\r\n\r\nexport default GifPicker;\r\n","import * as React from 'react';\r\n\r\nexport interface ErrorBoundaryProps {\r\n    children: React.ReactNode;\r\n}\r\n\r\nexport interface ErrorBoundaryState {\r\n    hasError: boolean;\r\n}\r\n\r\nexport default class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\r\n\tconstructor(props: { children: React.ReactNode }) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { hasError: false };\r\n\t}\r\n\r\n\tstatic getDerivedStateFromError(): ErrorBoundaryState {\r\n\t\treturn { hasError: true };\r\n\t}\r\n\r\n\tcomponentDidCatch(error: Error, errorInfo: any): void {\r\n\t\t// eslint-disable-next-line no-console\r\n\t\tconsole.error('GIF Picker React failed to render:', error, errorInfo);\r\n\t}\r\n\r\n\trender(): React.ReactNode {\r\n\t\tif (this.state.hasError) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn this.props.children;\r\n\t}\r\n}\r\n","import React, { useMemo } from 'react';\r\nimport Body from './components/body/Body';\r\nimport Header from './components/header/Header';\r\nimport PickerMain from './components/PickerMain';\r\nimport PickerContext from './context/PickerContext';\r\nimport SettingsContext from './context/SettingsContext';\r\nimport TenorContext from './context/TenorContext';\r\nimport './GifPickerReact.css';\r\nimport usePickerContext from './hooks/usePickerContext';\r\nimport useSettings from './hooks/useSettings';\r\nimport TenorManager from './managers/TenorManager';\r\nimport { ContentFilter, TenorImage, Theme } from './types/exposedTypes';\r\n\r\nexport interface GifPickerReactProps {\r\n\ttenorApiKey: string;\r\n\tonGifClick?: (gif: TenorImage) => void;\r\n\tautoFocusSearch?: boolean;\r\n\tcontentFilter?: ContentFilter;\r\n\tclientKey?: string;\r\n\tcountry?: string;\r\n\tlocale?: string;\r\n\twidth?: number | string;\r\n\theight?: number | string;\r\n\tcategoryHeight?: number | string;\r\n\ttheme?: Theme;\r\n}\r\n\r\nfunction GifPickerReact(props: GifPickerReactProps): JSX.Element {\r\n\tconst settings = useSettings(props);\r\n\tconst pickerContext = usePickerContext();\r\n\tconst tenorManager: TenorManager = useMemo(() => (\r\n\t\tnew TenorManager(settings.tenorApiKey, settings.clientKey,\r\n\t\t\tsettings.country, settings.locale, settings.contentFilter)\r\n\t), [ ]);\r\n\r\n\treturn (\r\n\t\t<SettingsContext.Provider value={settings}>\r\n\t\t\t<PickerContext.Provider value={pickerContext}>\r\n\t\t\t\t<TenorContext.Provider value={tenorManager}>\r\n\t\t\t\t\t<PickerMain>\r\n\t\t\t\t\t\t<Header />\r\n\t\t\t\t\t\t<Body width={props.width} />\r\n\t\t\t\t\t</PickerMain>\r\n\t\t\t\t</TenorContext.Provider>\r\n\t\t\t</PickerContext.Provider>\r\n\t\t</SettingsContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default GifPickerReact;\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport PickerContext from '../../context/PickerContext';\r\nimport TenorContext from '../../context/TenorContext';\r\nimport { TenorCategory } from '../../managers/TenorManager';\r\nimport { TenorImage } from '../../types/exposedTypes';\r\nimport './Body.css';\r\nimport CategoryList from './CategoryList';\r\nimport SearchResult from './SearchResult';\r\nimport TrendingResult from './TrendingResult';\r\n\r\nconst MAX_COLUMN_WIDTH = 170;\r\n\r\nexport interface BodyProps {\r\n\t/**\r\n\t * Width prop is here is for sole purpose of updating the\r\n\t * columns calculations when width prop change\r\n\t */\r\n\twidth?: number | string;\r\n}\r\n\r\nfunction Body({ width }: BodyProps): JSX.Element {\r\n\tconst [ categories, setCategories ] = useState<TenorCategory[] | undefined>(undefined);\r\n\tconst [ trending, setTrending ] = useState<TenorImage | undefined>(undefined);\r\n\tconst [ pickerContext ] = useContext(PickerContext);\r\n\tconst [ columnsCount, setColumnsCount ] = useState(1);\r\n\tconst tenor = useContext(TenorContext);\r\n\tconst ref = useRef<HTMLDivElement>(null);\r\n\r\n\t/**\r\n\t * Load categories and first trending image for home page\r\n\t */\r\n\tuseEffect(() => {\r\n\t\t(async (): Promise<any> => {\r\n\t\t\tconst categoryList = await tenor.categories();\r\n\t\t\tsetCategories(categoryList);\r\n\t\t\tconst trendingList = await tenor.trending(1);\r\n\t\t\tsetTrending(trendingList.images[0]);\r\n\t\t})();\r\n\t}, []);\r\n\r\n\t/**\r\n\t * Calculate amount of columns to display\r\n\t */\r\n\tuseEffect(() => {\r\n\t\tconst width = ref.current ? ref.current.offsetWidth : 0;\r\n\t\tlet columns = Math.floor( width / MAX_COLUMN_WIDTH );\r\n\t\tif(columns < 1) columns = 1;\r\n\t\tsetColumnsCount(columns);\r\n\t}, [ ref.current, width ]);\r\n\r\n\treturn (\r\n\t\t<div className='gpr-body' ref={ref}>\r\n\t\t\t{((): JSX.Element => {\r\n\t\t\t\tif(pickerContext.showTrending) {\r\n\t\t\t\t\treturn <TrendingResult columnsCount={columnsCount} />;\r\n\t\t\t\t}\r\n\t\t\t\telse if(pickerContext.searchTerm) {\r\n\t\t\t\t\treturn <SearchResult columnsCount={columnsCount} searchTerm={pickerContext.searchTerm} />;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn <CategoryList columnsCount={columnsCount} categories={categories} trending={trending} />;\r\n\t\t\t\t}\r\n\t\t\t})()}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Body;\r\n","import React, { Dispatch, SetStateAction } from 'react';\r\nimport { PickerContextType } from '../hooks/usePickerContext';\r\n\r\nconst PickerContext = React.createContext<[PickerContextType, Dispatch<SetStateAction<PickerContextType>>]>(null!);\r\n\r\nexport default PickerContext;\r\n","import * as React from 'react';\r\nimport TenorManager from '../managers/TenorManager';\r\n\r\nconst TenorContext = React.createContext<TenorManager>(null!);\r\n\r\nexport default TenorContext;\r\n","\n          export default function styleInject(css, { insertAt } = {}) {\n            if (!css || typeof document === 'undefined') return\n          \n            const head = document.head || document.getElementsByTagName('head')[0]\n            const style = document.createElement('style')\n            style.type = 'text/css'\n          \n            if (insertAt === 'top') {\n              if (head.firstChild) {\n                head.insertBefore(style, head.firstChild)\n              } else {\n                head.appendChild(style)\n              }\n            } else {\n              head.appendChild(style)\n            }\n          \n            if (style.styleSheet) {\n              style.styleSheet.cssText = css\n            } else {\n              style.appendChild(document.createTextNode(css))\n            }\n          }\n          ","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-body{display:flex;flex:1;min-height:0}\\n\")","import React from 'react';\r\nimport { TenorImage } from '../../../dist';\r\nimport { TenorCategory } from '../../managers/TenorManager';\r\nimport CategoryPlaceholder from '../placeholders/CategoryPlaceholder';\r\nimport './CategoryList.css';\r\nimport FeaturedCategory from './FeaturedCategory';\r\nimport TrendingCategory from './TrendingCategory';\r\n\r\nexport interface CategoryListProps {\r\n\tcategories?: TenorCategory[];\r\n\ttrending?: TenorImage;\r\n\tcolumnsCount: number;\r\n}\r\n\r\nfunction CategoryList({ categories, trending, columnsCount }: CategoryListProps): JSX.Element {\r\n\t// Reduce categories to multiple of columns so there won't by any not full rows at the bottom\r\n\tlet categoriesSliced = categories;\r\n\tif(columnsCount > 1) {\r\n\t\tcategoriesSliced = categories?.slice(0, -((categories.length + 1) % columnsCount));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='gpr-category-list' style={{gridTemplateColumns: `repeat(${columnsCount}, 1fr)`}}>\r\n\t\t\t{categories && trending ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<TrendingCategory image={trending.url} />\r\n\t\t\t\t\t{categoriesSliced?.map((cat, i) => (\r\n\t\t\t\t\t\t<FeaturedCategory key={i} image={cat.image} name={cat.name} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{[ ...Array(10 * columnsCount) ].map((_, i) => (\r\n\t\t\t\t\t\t<CategoryPlaceholder key={i} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default CategoryList;\r\n","import React, { useContext } from 'react';\r\nimport SettingsContext from '../../context/SettingsContext';\r\nimport './CategoryPlaceholder.css';\r\nimport Placeholder from './Placeholder';\r\n\r\nfunction CategoryPlaceholder() {\r\n\tconst settings = useContext(SettingsContext);\r\n\r\n\treturn (\r\n\t\t<Placeholder className=\"gpr-category-placeholder\" height={settings.categoryHeight} width='100%' />\r\n\t);\r\n}\r\n\r\nexport default CategoryPlaceholder;\r\n","import * as React from 'react';\r\nimport { GifPickerSettings } from '../hooks/useSettings';\r\n\r\nconst SettingsContext = React.createContext<GifPickerSettings>(null!);\r\n\r\nexport default SettingsContext;\r\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-category-placeholder{border-radius:var(--gpr-category-border-radius);position:relative}\\n\")","import React from 'react';\r\nimport './Placeholder.css';\r\n\r\nexport interface PlaceholderProps  extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement>{\r\n    width?: number | string;\r\n    height?: number | string;\r\n\tclassName?: string;\r\n}\r\n\r\nfunction Placeholder(props: PlaceholderProps) {\r\n\treturn (\r\n\t\t<div\r\n\t\t\t{...props}\r\n\t\t\tclassName={`gpr-placeholder ${props.className || ''}`}\r\n\t\t\tstyle={{ width: props.width, height: props.height, ...props.style }}\r\n\t\t></div>\r\n\t);\r\n}\r\n\r\nexport default Placeholder;\r\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-placeholder{background-color:var(--gpr-placeholder-color);transition:opacity .2s ease-in-out}\\n\")","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-category-list{grid-gap:var(--gpr-category-list-padding);display:grid;flex:1;grid-auto-rows:min-content;overflow-y:scroll;padding:var(--gpr-body-padding)}\\n\")","import React, { useContext } from 'react';\r\nimport PickerContext from '../../context/PickerContext';\r\nimport Category from './Category';\r\n\r\nexport interface FeaturedCategory {\r\n\timage: string;\r\n\tname: string;\r\n}\r\n\r\nfunction FeaturedCategory({ image, name }: FeaturedCategory): JSX.Element {\r\n\tconst [ pickerContext, setPickerContext ] = useContext(PickerContext);\r\n\r\n\tfunction onClick(): void {\r\n\t\tconst contextCopy = Object.assign({}, pickerContext);\r\n\t\tcontextCopy.searchTerm = name;\r\n\t\tsetPickerContext(contextCopy);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Category image={image} text={name} onClick={onClick} />\r\n\t);\r\n}\r\n\r\nexport default FeaturedCategory;\r\n","import React, { useContext } from 'react';\r\nimport SettingsContext from '../../context/SettingsContext';\r\nimport './Category.css';\r\n\r\nexport interface CategoryProps {\r\n\timage: string;\r\n\ttext: React.ReactNode | string;\r\n\tonClick?: React.MouseEventHandler<HTMLButtonElement>;\r\n}\r\n\r\nfunction Category({ image, text, onClick}: CategoryProps): JSX.Element {\r\n\tconst settings = useContext(SettingsContext);\r\n\r\n\treturn (\r\n\t\t<button\r\n\t\t\tclassName='gpr-btn gpr-category'\r\n\t\t\tstyle={{height: settings.categoryHeight}}\r\n\t\t\tdata-testid='gpr-category'\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<img src={image} loading=\"lazy\"/>\r\n\t\t\t<div className='gpr-category-overlay'>\r\n\t\t\t\t<div className='gpr-category-name'>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</button>\r\n\t);\r\n}\r\n\r\nexport default Category;\r\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-category{border-radius:var(--gpr-category-border-radius);cursor:pointer;position:relative;transition:box-shadow .15s ease-in-out}.GifPickerReact .gpr-category img{background-color:#d3d3d3;border-radius:var(--gpr-category-border-radius);height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.GifPickerReact .gpr-category-overlay{align-items:center;background-color:rgba(0,0,0,var(--gpr-category-background-opacity));border-radius:var(--gpr-category-border-radius);display:flex;height:100%;justify-content:center;left:0;overflow:hidden;position:absolute;top:0;transition:background-color .15s ease-in-out;width:100%}.GifPickerReact .gpr-category-overlay .gpr-category-name{color:var(--gpr-category-font-color);font-size:var(--gpr-category-font-size);font-weight:var(--gpr-category-font-weight);text-shadow:0 1px 1px rgba(0,0,0,var(--gpr-category-shadow-opacity))}.GifPickerReact .gpr-category:hover{box-shadow:0 0 0 2px var(--gpr-category-border-color-hover)}.GifPickerReact .gpr-category:hover .gpr-category-overlay{background-color:rgba(0,0,0,var(--gpr-category-shadow-opacity-hover))}\\n\")","import React, { useContext } from 'react';\r\nimport PickerContext from '../../context/PickerContext';\r\nimport Category from './Category';\r\nimport './TrendingCategory.css';\r\n\r\nexport interface FeaturedCategory {\r\n\timage: string;\r\n}\r\n\r\nfunction TrendingCategory({ image }: FeaturedCategory): JSX.Element {\r\n\tconst [ pickerContext, setPickerContext ] = useContext(PickerContext);\r\n\r\n\tfunction onClick(): void {\r\n\t\tconst contextCopy = Object.assign({}, pickerContext);\r\n\t\tcontextCopy.showTrending = true;\r\n\t\tsetPickerContext(contextCopy);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Category image={image} onClick={onClick} text={(\r\n\t\t\t<div className='gpr-text-trending-category'>\r\n\t\t\t\t<div className=\"gpr-icn-trending\" />\r\n\t\t\t\t<span>Trending GIFs</span>\r\n\t\t\t</div>\r\n\t\t)} />\r\n\t);\r\n}\r\n\r\nexport default TrendingCategory;\r\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-icn-trending{background-color:transparent;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48'%3E%3Cpath fill='%23fff' d='M6.3 37 4 34.7l15-15 8 8.05L41.9 11l2.1 2.05-17 19.2-8-7.95Z'/%3E%3C/svg%3E\\\");background-repeat:no-repeat;background-size:20px;height:20px;width:20px}.GifPickerReact .gpr-category .gpr-text-trending-category{align-items:center;display:flex;gap:4px}\\n\")","import React, { useContext, useEffect, useState } from 'react';\r\nimport TenorContext from '../../context/TenorContext';\r\nimport { TenorResult } from '../../managers/TenorManager';\r\nimport GifList from './GifList';\r\n\r\nexport interface SearchResultProps {\r\n\tsearchTerm: string;\r\n\tcolumnsCount: number;\r\n}\r\n\r\nfunction SearchResult({ searchTerm, columnsCount }: SearchResultProps) {\r\n\tconst [ searchResult, setSearchResult ] = useState<TenorResult>(null!);\r\n\tconst [ isLoading, setLoading ] = useState(true);\r\n\tconst tenor = useContext(TenorContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tasync function search(): Promise<any> {\r\n\t\t\tconst result = await tenor.search(searchTerm);\r\n\t\t\tsetSearchResult(result);\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t\tconst debounce = setTimeout(() => search(), 800);\r\n\t\treturn (): void => clearTimeout(debounce);\r\n\t}, [ searchTerm ]);\r\n\r\n\treturn (\r\n\t\t<GifList isLoading={isLoading} columnsCount={columnsCount} result={searchResult} searchTerm={searchTerm} />\r\n\t);\r\n}\r\n\r\nexport default SearchResult;\r\n","import React, { useMemo } from 'react';\r\nimport { TenorResult } from '../../managers/TenorManager';\r\nimport { TenorImage } from '../../types/exposedTypes';\r\nimport './GifList.css';\r\nimport GifListPlaceholder from './GifListPlaceholder';\r\nimport ResultImage from './ResultImage';\r\n\r\nexport interface GifListProps {\r\n\tisLoading: boolean;\r\n\tresult?: TenorResult;\r\n\tsearchTerm?: string;\r\n\tcolumnsCount: number;\r\n}\r\n\r\nfunction GifList({ isLoading, result, searchTerm, columnsCount }: GifListProps): JSX.Element {\r\n\tconst columns = useMemo(() => generateColumns(result, columnsCount), [ result, columnsCount ]);\r\n\tconst isEmpty = !result || result.images.length <= 0;\r\n\r\n\tif(isLoading) {\r\n\t\treturn <GifListPlaceholder columnsCount={columnsCount} />;\r\n\t}\r\n\r\n\tif(isEmpty) {\r\n\t\treturn (\r\n\t\t\t<div className='gpr-gif-list-no-result'>\r\n\t\t\t\t<span>No GIFs found!</span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='gpr-gif-list'>\r\n\t\t\t{columns.map((col, i) => (\r\n\t\t\t\t<div className='gpr-gif-list-column' key={i}>\r\n\t\t\t\t\t{col.map((img) => (\r\n\t\t\t\t\t\t<ResultImage key={img.id} image={img} searchTerm={searchTerm} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n/**\r\n * Splits TenorResult into grid of TenorImage with set amount of columns\r\n * Columns should have more or less similar height but don't necessarily need to\r\n * have fixed amount of elements, GIFs don't have uniform heights\r\n *\r\n * @returns array of columns (which are the arrays of TenorImage)\r\n */\r\nfunction generateColumns(result?: TenorResult, columnsCount = 2 ): TenorImage[][] {\r\n\tif(!result) return [];\r\n\tconst columns: TenorImage[][] = new Array(columnsCount).fill(null).map(() => []);\r\n\tconst columnsHeight = new Array(columnsCount).fill(0);\r\n\r\n\tfor(const img of result.images) {\r\n\t\tconst aspectRatio = img.preview.height / img.preview.width;\r\n\t\t// We want to put image of this loop in shortest column (smallest width)\r\n\t\tconst shortestColumnIndex = columnsHeight.indexOf(Math.min(...columnsHeight));\r\n\t\tcolumns[shortestColumnIndex].push(img);\r\n\t\t// Here we actually add aspect ratio rather than height since design is responsive\r\n\t\tcolumnsHeight[shortestColumnIndex] += aspectRatio;\r\n\t}\r\n\treturn columns;\r\n}\r\n\r\nexport default GifList;\r\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-gif-list{display:flex;flex:1;flex-direction:row;gap:var(--gpr-category-list-padding);overflow-y:scroll;padding:var(--gpr-body-padding)}.GifPickerReact .gpr-gif-list-column{grid-gap:var(--gpr-category-list-padding);display:grid;flex:1;grid-auto-rows:min-content;grid-template-columns:1fr;grid-template-rows:auto 1fr}.GifPickerReact .gpr-gif-list-no-result{align-items:center;display:flex;flex:1;justify-content:center;padding-bottom:30%}\\n\")","import React from 'react';\r\nimport ResultPlaceholder from '../placeholders/ResultPlaceholder';\r\n\r\nconst PLACEHOLDER_HEIGHTS = [\r\n\t[ 120, 100, 130, 175, 154, 110 ],\r\n\t[ 150, 115, 135, 154, 145, 170 ],\r\n\t[ 140, 125, 120, 150, 100, 125 ],\r\n\t[ 130, 145, 175, 120, 135, 100 ]\r\n];\r\n\r\nexport interface GifListPlaceholderProps {\r\n\tcolumnsCount: number;\r\n\tshowDelay?: number;\r\n}\r\n\r\nfunction GifListPlaceholder({ columnsCount, showDelay = 70 }: GifListPlaceholderProps) {\r\n\treturn (\r\n\t\t<div className='gpr-gif-list'>\r\n\t\t\t{[ ...Array(columnsCount) ].map((_, i) => (\r\n\t\t\t\t<div className='gpr-gif-list-column' key={i}>\r\n\t\t\t\t\t{PLACEHOLDER_HEIGHTS[i % PLACEHOLDER_HEIGHTS.length].map((height, j) => (\r\n\t\t\t\t\t\t<ResultPlaceholder\r\n\t\t\t\t\t\t\tkey={j} height={height}\r\n\t\t\t\t\t\t\tshowDelay={((j + 1) * showDelay * columnsCount) + showDelay * i}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default GifListPlaceholder;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Placeholder from './Placeholder';\r\nimport './ResultPlaceholder.css';\r\n\r\nexport interface ResultPlaceholderProps {\r\n\theight: number | string;\r\n\tshowDelay?: number;\r\n}\r\n\r\nfunction ResultPlaceholder({ height, showDelay }: ResultPlaceholderProps) {\r\n\tconst [ show, setShow ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif(show) return;\r\n\t\tfunction showElement() {\r\n\t\t\tsetShow(true);\r\n\t\t}\r\n\t\tconst timeout = setTimeout(showElement, showDelay);\r\n\t\treturn () => clearTimeout(timeout);\r\n\t}, [ ]);\r\n\r\n\treturn (\r\n\t\t<Placeholder\r\n\t\t\tclassName=\"gpr-result-placeholder\"\r\n\t\t\theight={height} width='100%'\r\n\t\t\tstyle={{ opacity: show ? 1 : 0 }}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default ResultPlaceholder;\r\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-result-placeholder{border-radius:var(--gpr-category-border-radius)}\\n\")","import React, { useContext } from 'react';\r\nimport SettingsContext from '../../context/SettingsContext';\r\nimport TenorContext from '../../context/TenorContext';\r\nimport { TenorImage } from '../../types/exposedTypes';\r\nimport './ResultImage.css';\r\n\r\nexport interface ResultImageProps {\r\n\timage: TenorImage;\r\n\tsearchTerm?: string\r\n}\r\n\r\nfunction ResultImage({ image, searchTerm }: ResultImageProps): JSX.Element {\r\n\tconst settings = useContext(SettingsContext);\r\n\tconst tenor = useContext(TenorContext);\r\n\r\n\tfunction onClick(): void {\r\n\t\tconst func = settings.onGifClick;\r\n\t\tif(func) func(image);\r\n\t\ttenor.registerShare(image, searchTerm);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<button\r\n\t\t\tclassName='gpr-btn gpr-result-image'\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<img src={image.preview.url} height={image.preview.height} width={image.preview.width} loading=\"lazy\" />\r\n\t\t</button>\r\n\t);\r\n}\r\n\r\nexport default ResultImage;\r\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-result-image{border-radius:var(--gpr-category-border-radius);cursor:pointer;transition:box-shadow .15s ease-in-out}.GifPickerReact .gpr-result-image img{background-color:var(--gpr-placeholder-color);border-radius:var(--gpr-category-border-radius);height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.GifPickerReact .gpr-result-image:hover{box-shadow:0 0 0 2px var(--gpr-category-border-color-hover)}\\n\")","import React, { useContext, useEffect, useState } from 'react';\r\nimport TenorContext from '../../context/TenorContext';\r\nimport { TenorResult } from '../../managers/TenorManager';\r\nimport GifList from './GifList';\r\n\r\nexport interface TrendingResultProps {\r\n\tcolumnsCount: number;\r\n}\r\n\r\nfunction TrendingResult({ columnsCount }: TrendingResultProps) {\r\n\tconst [ trendingResult, setSearchResult ] = useState<TenorResult>(null!);\r\n\tconst [ isLoading, setLoading ] = useState(true);\r\n\r\n\tconst tenor = useContext(TenorContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\t(async () => {\r\n\t\t\tconst result = await tenor.trending();\r\n\t\t\tsetSearchResult(result);\r\n\t\t\tsetLoading(false);\r\n\t\t})();\r\n\r\n\t}, [ ]);\r\n\r\n\treturn (\r\n\t\t<GifList columnsCount={columnsCount} isLoading={isLoading} result={trendingResult} />\r\n\t);\r\n}\r\n\r\nexport default TrendingResult;\r\n","import React, { useContext } from 'react';\r\nimport PickerContext from '../../context/PickerContext';\r\nimport './Header.css';\r\nimport Search from './Search';\r\nimport Title from './Title';\r\n\r\nfunction Header(): JSX.Element {\r\n\tconst [ pickerContext ] = useContext(PickerContext);\r\n\r\n\treturn (\r\n\t\t<div className='gpr-header'>\r\n\t\t\t{pickerContext.showTrending ? (\r\n\t\t\t\t<Title>Trending GIFs</Title>\r\n\t\t\t) : (\r\n\t\t\t\t<Search />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-header{border-bottom:1px solid var(--gpr-picker-border-color);min-height:0;padding:var(--gpr-header-padding)}\\n\")","import React, { useContext } from 'react';\r\nimport PickerContext from '../../context/PickerContext';\r\nimport SettingsContext from '../../context/SettingsContext';\r\nimport ClearButton from './ClearButton';\r\nimport './Search.css';\r\n\r\nfunction Search(): JSX.Element {\r\n\tconst [ pickerContext, setPickerContext ] = useContext(PickerContext);\r\n\tconst settings = useContext(SettingsContext);\r\n\r\n\tfunction onChange(event: React.ChangeEvent<HTMLInputElement>): void {\r\n\t\tconst contextCopy = Object.assign({}, pickerContext);\r\n\t\tcontextCopy.searchTerm = event.target.value;\r\n\t\tsetPickerContext(contextCopy);\r\n\t}\r\n\r\n\tfunction onClear(): void {\r\n\t\tconst contextCopy = Object.assign({}, pickerContext);\r\n\t\tcontextCopy.searchTerm = '';\r\n\t\tsetPickerContext(contextCopy);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='gpr-search-container'>\r\n\t\t\t<input\r\n\t\t\t\tautoFocus={settings.autoFocusSearch}\r\n\t\t\t\taria-label={'Search Tenor'}\r\n\t\t\t\tplaceholder={'Search Tenor'}\r\n\t\t\t\tclassName=\"gpr-search\"\r\n\t\t\t\tdata-testid=\"gpr-search-input\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tdir=\"auto\"\r\n\t\t\t\tmaxLength={500}\r\n\t\t\t\tvalue={pickerContext.searchTerm}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t/>\r\n\t\t\t<div className=\"gpr-icn-search\" />\r\n\t\t\t{pickerContext.searchTerm.length > 0 && (\r\n\t\t\t\t<ClearButton onClick={onClear} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Search;\r\n","import React from 'react';\r\nimport Button from '../Button';\r\nimport './ClearButton.css';\r\n\r\nexport interface ClearButtonProps {\r\n    onClick: React.MouseEventHandler<HTMLButtonElement>\r\n}\r\n\r\nfunction ClearButton({ onClick }: ClearButtonProps) {\r\n\treturn (\r\n\t\t<Button className=\"gpr-btn-clear-search\" onClick={onClick}>\r\n\t\t\t<div className=\"gpr-icn-clear-search\" />\r\n\t\t</Button>\r\n\t);\r\n}\r\n\r\nexport default ClearButton;\r\n","import * as React from 'react';\r\n\r\ninterface PropsProps extends React.DetailedHTMLProps<React.ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement> {}\r\n\r\nfunction Button(props: PropsProps): JSX.Element {\r\n\treturn (\r\n\t\t<button\r\n\t\t\ttype=\"button\"\r\n\t\t\t{...props}\r\n\t\t\tclassName={'gpr-btn ' + props.className}\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</button>\r\n\t);\r\n}\r\n\r\nexport default Button;\r\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact button.gpr-btn-clear-search{align-items:center;border-radius:50%;display:flex;height:20px;justify-content:end;padding:0;position:absolute;right:var(--gpr-search-bar-inner-padding);top:50%;transform:translateY(-50%);width:20px}.GifPickerReact .gpr-icn-clear-search{background-color:transparent;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' width='20' height='80'%3E%3Cpath fill='%23868686' d='M6.98 13.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 8c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.4a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.2-.21.54 0 .74z'/%3E%3Cpath fill='%23868686' d='M10.15 18.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3Cpath fill='%233371B7' d='M6.98 33.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 28c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.41a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.21-.21.55 0 .75z'/%3E%3Cpath fill='%233371B7' d='M10.15 38.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3Cpath fill='%23C0C0BF' d='M6.98 53.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 48c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.41a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.21-.21.55 0 .75z'/%3E%3Cpath fill='%23C0C0BF' d='M10.15 58.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3Cpath fill='%236AA9DD' d='M6.98 73.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 68c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.41a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.21-.21.55 0 .75z'/%3E%3Cpath fill='%236AA9DD' d='M10.15 78.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3C/svg%3E\\\");background-repeat:no-repeat;background-size:20px;height:20px;width:20px}.GifPickerReact .gpr-search-container button.gpr-btn-clear-search:focus .gpr-icn-clear-search,.GifPickerReact button.gpr-btn-clear-search:hover .gpr-icn-clear-search{background-position-y:-20px}.GifPickerReact button.gpr-btn-clear-search:focus,.GifPickerReact button.gpr-btn-clear-search:hover{background:var(--gpr-hover-bg-color)}.GifPickerReact.gpr-dark-theme button.gpr-btn-clear-search .gpr-icn-clear-search{background-position-y:-40px}.GifPickerReact.gpr-dark-theme button.gpr-btn-clear-search:hover .gpr-icn-clear-search{background-position-y:-60px}\\n\")","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-search-container{display:block;flex:1;min-width:0;position:relative}.GifPickerReact .gpr-search-container input.gpr-search{background-color:var(--gpr-search-input-bg-color);border:1px solid var(--gpr-search-input-bg-color);border-radius:var(--gpr-search-input-border-radius);color:var(--gpr-search-input-text-color);height:var(--gpr-search-input-height);outline:none;padding:var(--gpr-search-input-padding);transition:all .2s ease-in-out;width:100%}.GifPickerReact .gpr-search-container .gpr-icn-search{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' width='20' height='40'%3E%3Cpath fill='%23868686' fill-rule='evenodd' d='M12 8.81c0 2.08-1.68 3.76-3.76 3.76s-3.76-1.68-3.76-3.76 1.68-3.76 3.76-3.76S12 6.73 12 8.81zm-.77 3.91c-.83.64-1.87 1.01-2.99 1.01-2.72 0-4.92-2.2-4.92-4.92 0-2.72 2.2-4.92 4.92-4.92 2.72 0 4.92 2.2 4.92 4.92 0 1.13-.38 2.16-1.01 2.99l3.94 3.93c.25.25.25.66 0 .92-.25.25-.66.25-.92 0l-3.94-3.93z' clip-rule='evenodd'/%3E%3Cpath fill='%23C0C0BF' fill-rule='evenodd' d='M12 28.81c0 2.08-1.68 3.76-3.76 3.76s-3.76-1.68-3.76-3.76 1.68-3.76 3.76-3.76S12 26.73 12 28.81zm-.77 3.91c-.83.64-1.87 1.01-2.99 1.01-2.72 0-4.92-2.2-4.92-4.92 0-2.72 2.2-4.92 4.92-4.92 2.72 0 4.92 2.2 4.92 4.92 0 1.13-.38 2.16-1.01 2.99l3.94 3.93c.25.25.25.66 0 .92-.25.25-.66.25-.92 0l-3.94-3.93z' clip-rule='evenodd'/%3E%3C/svg%3E\\\");background-position:0 0;background-repeat:no-repeat;background-size:20px;content:\\\"\\\";height:20px;left:var(--gpr-search-bar-inner-padding);position:absolute;top:50%;transform:translateY(-50%);width:20px}.GifPickerReact.gpr-dark-theme .gpr-search-container .gpr-icn-search{background-position-y:-20px}.GifPickerReact .gpr-search-container input.gpr-search::-moz-placeholder{color:var(--gpr-search-input-placeholder-color)}.GifPickerReact .gpr-search-container input.gpr-search::placeholder{color:var(--gpr-search-input-placeholder-color)}.GifPickerReact .gpr-search-container input.gpr-search:focus{background-color:var(--gpr-search-input-bg-color-active);border:1px solid var(--gpr-search-border-color-active)}\\n\")","import React, { useContext } from 'react';\r\nimport PickerContext from '../../context/PickerContext';\r\nimport Button from '../Button';\r\nimport './Title.css';\r\n\r\nexport interface TitleProps {\r\n\tchildren: React.ReactNode;\r\n}\r\n\r\nfunction Title({ children }: TitleProps): JSX.Element {\r\n\tconst [ pickerContext, setPickerContext ] = useContext(PickerContext);\r\n\r\n\tfunction onClear(): void {\r\n\t\tconst contextCopy = Object.assign({}, pickerContext);\r\n\t\tcontextCopy.showTrending = false;\r\n\t\tsetPickerContext(contextCopy);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='gpr-title-container'>\r\n\t\t\t<div className='gpr-title'>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\r\n\t\t\t<Button className={'gpr-btn-clear-search'} onClick={onClear}>\r\n\t\t\t\t<div className=\"gpr-icn-clear-search\" />\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Title;\r\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-title-container{display:block;flex:1;min-width:0;position:relative}.GifPickerReact .gpr-title-container .gpr-title{align-items:center;background-color:var(--gpr-search-input-bg-color);border-radius:var(--gpr-search-input-border-radius);color:var(--gpr-search-input-text-color);display:flex;height:var(--gpr-search-input-height);padding:var(--gpr-horizontal-padding);width:100%}\\n\")","import React, { useContext } from 'react';\r\nimport SettingsContext from '../context/SettingsContext';\r\nimport { Theme } from '../types/exposedTypes';\r\n\r\nexport interface PickerMainProps {\r\n    children: React.ReactNode;\r\n}\r\n\r\nfunction PickerMain({ children }: PickerMainProps): JSX.Element {\r\n\tconst settings = useContext(SettingsContext);\r\n\r\n\tconst style: React.CSSProperties = {\r\n\t\theight: settings.height,\r\n\t\twidth: settings.width\r\n\t};\r\n\r\n\treturn (\r\n\t\t<aside className={`GifPickerReact gpr-main ${settings.theme === Theme.DARK ? ' gpr-dark-theme' : ''}`} style={style}>\r\n\t\t\t{children}\r\n\t\t</aside>\r\n\t);\r\n}\r\n\r\nexport default PickerMain;\r\n","export enum ContentFilter {\r\n    HIGH = 'high',\r\n    MEDIUM = 'medium',\r\n    LOW = 'low',\r\n    OFF = 'off'\r\n}\r\nexport enum Theme {\r\n    LIGHT = 'light',\r\n    DARK = 'dark',\r\n    AUTO = 'auto'\r\n}\r\n\r\nexport interface TenorImage {\r\n\tid: string;\r\n    tenorUrl: string;\r\n    shortTenorUrl: string;\r\n    description: string;\r\n    createdAt: Date;\r\n    tags: string[];\r\n    url: string;\r\n    height: number;\r\n    width: number;\r\n    preview: TenorImagePreview;\r\n}\r\n\r\nexport interface TenorImagePreview {\r\n    url: string;\r\n    height: number;\r\n    width: number;\r\n}\r\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact{--gpr-highlight-color:#007aeb;--gpr-hover-bg-color:#f1f8ff;--gpr-focus-bg-color:#e0f0ff;--gpr-text-color:#858585;--gpr-search-input-bg-color:#f6f6f6;--gpr-picker-border-color:#e7e7e7;--gpr-bg-color:#fff;--gpr-horizontal-padding:10px;--gpr-picker-border-radius:8px;--gpr-header-padding:15px var(--gpr-horizontal-padding);--gpr-search-input-bg-color-active:var(--gpr-search-input-bg-color);--gpr-search-input-padding:0 32px;--gpr-search-input-border-radius:8px;--gpr-search-input-height:40px;--gpr-search-input-text-color:var(--gpr-text-color);--gpr-search-input-placeholder-color:var(--gpr-text-color);--gpr-search-bar-inner-padding:var(--gpr-horizontal-padding);--gpr-search-border-color-active:var(--gpr-highlight-color);--gpr-body-padding:var(--gpr-header-padding) 0px;--gpr-category-list-padding:var(--gpr-horizontal-padding);--gpr-category-border-radius:4px;--gpr-category-background-opacity:40%;--gpr-category-font-color:var(--gpr-picker-border-color);--gpr-category-font-size:16px;--gpr-category-font-weight:600;--gpr-category-shadow-opacity:60%;--gpr-category-shadow-opacity-hover:65%;--gpr-category-border-color-hover:var(--gpr-highlight-color);--gpr-placeholder-color:#d3d3d3;color-scheme:light}.GifPickerReact.gpr-dark-theme{--gpr-dark:#000;--gpr-hover-bg-color:#363636f6;--gpr-focus-bg-color:#474747;--gpr-text-color:silver;--gpr-search-input-bg-color:#3b3b3b;--gpr-picker-border-color:#2b2b2b;--gpr-bg-color:#222;--gpr-category-font-color:#e7e7e7;--gpr-search-input-bg-color-active:var(--gpr-dark);--gpr-placeholder-color:var(--gpr-search-input-bg-color);color-scheme:dark}.GifPickerReact *{box-sizing:border-box}.GifPickerReact.gpr-main{background-color:var(--gpr-bg-color);border-color:var(--gpr-picker-border-color);border-radius:var(--gpr-picker-border-radius);border-style:solid;border-width:1px;color:var(--gpr-text-color);display:flex;flex-direction:column;position:relative}.GifPickerReact button.gpr-btn{background:none;border:0;cursor:pointer;outline:none;padding:0}\\n\")","import { Dispatch, SetStateAction, useState } from 'react';\r\n\r\nexport interface PickerContextType {\r\n    searchTerm: string;\r\n\tshowTrending: boolean\r\n}\r\n\r\nfunction usePickerContext(): [PickerContextType, Dispatch<SetStateAction<PickerContextType>>] {\r\n\tconst DEFAULT_SETTINGS: PickerContextType = {\r\n\t\tsearchTerm: '',\r\n\t\tshowTrending: false\r\n\t};\r\n\r\n\tconst [ pickerContext, setPickerContext ] = useState<PickerContextType>(DEFAULT_SETTINGS);\r\n\r\n\treturn [ pickerContext, setPickerContext ];\r\n}\r\n\r\nexport default usePickerContext;\r\n","import { GifPickerReactProps } from '../GifPickerReact';\r\nimport { ContentFilter, TenorImage, Theme } from '../types/exposedTypes';\r\n\r\n/**\r\n * This is a parsed version of props with filled defaults\r\n */\r\nexport type GifPickerSettings = {\r\n    tenorApiKey: string;\r\n\tonGifClick?: (gif: TenorImage) => void;\r\n\tautoFocusSearch: boolean;\r\n\tclientKey: string;\r\n\tcountry: string;\r\n\tlocale: string;\r\n\tcontentFilter: ContentFilter;\r\n\theight: string;\r\n\twidth: string;\r\n\tcategoryHeight: string;\r\n\ttheme: Theme;\r\n}\r\n\r\nfunction useSettings(props: GifPickerReactProps): GifPickerSettings {\r\n\tif(!props.tenorApiKey) {\r\n\t\tthrow new Error('tenorApiKey is a required prop that is missing');\r\n\t}\r\n\treturn {\r\n\t\ttenorApiKey: props.tenorApiKey,\r\n\t\tonGifClick: props.onGifClick ?? undefined,\r\n\t\tautoFocusSearch: props.autoFocusSearch ?? true,\r\n\t\tclientKey: props.clientKey ?? 'gif-picker-react',\r\n\t\tcountry: props.country ?? 'US',\r\n\t\tlocale: props.locale ?? 'en_US',\r\n\t\tcontentFilter: props.contentFilter ?? ContentFilter.OFF,\r\n\t\theight: praseDimension(props.height ?? 450),\r\n\t\twidth: praseDimension(props.width ?? 350),\r\n\t\tcategoryHeight: praseDimension(props.categoryHeight ?? 100),\r\n\t\ttheme: getTheme(props.theme)\r\n\t};\r\n}\r\n\r\n/**\r\n * Processed raw dimension as number or string to css property. You can provide\r\n * a number that will be treated as pixel size, or your any accepted css height as string.\r\n * @param dimension raw dimension\r\n * @returns css size string\r\n */\r\nfunction praseDimension(dimension: string | number): string {\r\n\tif(typeof dimension == 'number') {\r\n\t\treturn `${dimension}px`;\r\n\t}\r\n\telse if(typeof dimension == 'string') {\r\n\t\treturn dimension;\r\n\t}\r\n\telse {\r\n\t\tthrow new TypeError('Invalid dimension provided');\r\n\t}\r\n}\r\n\r\n/**\r\n * Check for a theme passed in. If not passed default to Light.\r\n * Otherwise check for auto or return what was passed in.\r\n * @param theme theme to check\r\n * @returns theme to use\r\n */\r\nfunction getTheme(theme?: Theme): Theme {\r\n\tif (theme === Theme.AUTO) {\r\n\t\treturn isSystemDarkTheme() ? Theme.DARK : Theme.LIGHT;\r\n\t}\r\n\telse {\r\n\t\treturn theme ?? Theme.LIGHT;\r\n\t}\r\n}\r\n\r\n/**\r\n * Check for system settings for darkmode\r\n * @returns true if system is using dark theme\r\n */\r\nfunction isSystemDarkTheme(): boolean {\r\n\tif (typeof window === 'undefined') {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn !!window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n}\r\n\r\nexport default useSettings;\r\n","import { ContentFilter, TenorImage } from '../types/exposedTypes';\r\n\r\nconst MEDIA_FILTER = 'gif,tinygif';\r\nconst BASE_URL = 'https://tenor.googleapis.com/v2/';\r\n\r\nexport interface TenorCategory {\r\n\timage: string;\r\n\tname: string;\r\n}\r\n\r\nexport interface TenorResult {\r\n\tnext: string;\r\n\timages: TenorImage[];\r\n}\r\n\r\nclass TenorManager {\r\n\tprivate apiKey: string;\r\n\tprivate clientKey: string;\r\n\tprivate country: string;\r\n\tprivate locale: string;\r\n\tprivate contentFilter: ContentFilter;\r\n\r\n\tconstructor(\r\n\t\tapiKey: string,\r\n\t\tclientKey: string,\r\n\t\tcountry: string,\r\n\t\tlocale: string,\r\n\t\tcontentFilter: ContentFilter\r\n\t) {\r\n\t\tthis.apiKey = apiKey;\r\n\t\tthis.clientKey = clientKey;\r\n\t\tthis.country = country;\r\n\t\tthis.locale = locale;\r\n\t\tthis.contentFilter = contentFilter;\r\n\t}\r\n\r\n\tprivate async callApi(endpoint: string, params?: {[key: string]: any}): Promise<Response> {\r\n\t\tconst urlParams = new URLSearchParams({\r\n\t\t\t'key': this.apiKey,\r\n\t\t\t'client_key': this.clientKey,\r\n\t\t\t'contentfilter': this.contentFilter,\r\n\t\t\t'media_filter': MEDIA_FILTER,\r\n\t\t\t'locale': this.locale,\r\n\t\t\t'country': this.country,\r\n\t\t\t...params\r\n\t\t});\r\n\t\tconst url = BASE_URL + endpoint + '?' + urlParams;\r\n\t\treturn fetch(url)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif(!res.ok) {\r\n\t\t\t\t\tconsole.error(res);\r\n\t\t\t\t\tconsole.error('[gif-picker-react] Failed to fetch data from Tenor API');\r\n\t\t\t\t}\r\n\t\t\t\treturn res;\r\n\t\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t\tconsole.error('[gif-picker-react] Failed to fetch data from Tenor API');\r\n\t\t\t});\r\n\t}\r\n\r\n\tprivate praseResult(img: any): TenorImage {\r\n\t\tconst preview = img['media_formats']['tinygif'];\r\n\t\tconst gif = img['media_formats']['gif'];\r\n\r\n\t\treturn {\r\n\t\t\tid: img.id,\r\n\t\t\ttenorUrl: img['itemurl'] ,\r\n\t\t\tshortTenorUrl: img.url,\r\n\t\t\tdescription: img['content_description'],\r\n\t\t\tcreatedAt: new Date(img.created * 1000),\r\n\t\t\ttags: img.tags,\r\n\t\t\turl: gif.url,\r\n\t\t\twidth: gif.dims[0],\r\n\t\t\theight: gif.dims[1],\r\n\t\t\tpreview: {\r\n\t\t\t\turl: preview.url,\r\n\t\t\t\twidth: preview.dims[0],\r\n\t\t\t\theight: preview.dims[1]\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tpublic async categories(): Promise<TenorCategory[]> {\r\n\t\treturn this.callApi('categories', {\r\n\t\t\ttype: 'featured'\r\n\t\t})\r\n\t\t\t.then((data: any) => {\r\n\t\t\t\tconst tags = data.tags;\r\n\t\t\t\treturn tags.map((tag: any) => ({\r\n\t\t\t\t\tname: tag['searchterm'],\r\n\t\t\t\t\timage: tag.image\r\n\t\t\t\t}));\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic async search(term: string, limit = 50): Promise<TenorResult> {\r\n\t\treturn this.callApi('search', {\r\n\t\t\tq: term,\r\n\t\t\t'ar_range': 'all',\r\n\t\t\tlimit\r\n\t\t})\r\n\t\t\t.then((data: any) => {\r\n\t\t\t\tconst results = data.results;\r\n\t\t\t\tconst images = results.map(this.praseResult);\r\n\t\t\t\treturn {\r\n\t\t\t\t\tnext: data.next,\r\n\t\t\t\t\timages: images\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic async trending(limit = 50): Promise<TenorResult> {\r\n\t\treturn this.callApi('featured', {\r\n\t\t\t'ar_range': 'all',\r\n\t\t\tlimit\r\n\t\t})\r\n\t\t\t.then((data: any) => {\r\n\t\t\t\tconst results = data.results;\r\n\t\t\t\tconst images = results.map(this.praseResult);\r\n\t\t\t\treturn {\r\n\t\t\t\t\tnext: data.next,\r\n\t\t\t\t\timages: images\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic async registerShare(image: TenorImage, searchTerm?: string): Promise<void> {\r\n\t\tconst params: any = { id: image.id };\r\n\t\tif(searchTerm) params['q'] = searchTerm;\r\n\t\tawait this.callApi('registershare', params);\r\n\t\treturn;\r\n\t}\r\n}\r\n\r\nexport default TenorManager;\r\n"]}